<h2>Create a Build</h2>
<div data-controller="wizard">
  <%= simple_form_for(@build) do |f|  %>

    <div data-wizard-target="step">
      <%= f.association :appliances, :label => "Select a Fridge:", :collection => Appliance.find_appliance("fridge"), required: false %>

      <%= button_tag "Next", type: "button",
        data: {
          action: "click->wizard#goToNext",
          next_step: "1"
        } %>
    </div>

    <div data-wizard-target="step" class="d-none">
      <%= f.association :appliances, :label => "Select lights:", :collection => Appliance.find_appliance("lights"), required: false %>

      <%= button_tag "Previous", type: "button",
        data: {
          action: "click->wizard#goToPrevious",
          previous_step: "1"
        } %>

      <%= button_tag "Next", type: "button",
        data: {
          action: "click->wizard#goToNext",
          next_step: "2"
        } %>
    </div>

    <div data-wizard-target="step" class="d-none">
      <%= f.association :appliances, :label => "Select a Fan:", :collection => Appliance.find_appliance("fan"), required: false %>

      <%= button_tag "Previous", type: "button",
        data: {
          action: "click->wizard#goToPrevious",
          previous_step: "2"
        } %>

      <%= button_tag "Next", type: "button",
        data: {
          action: "click->wizard#goToNext",
          next_step: "3"
        } %>
    </div>

    <div data-wizard-target="step" class="d-none">
      <%= f.association :battery, :label => "Select a battery:", :collection => Battery.formatted, required: false %>

      <%= button_tag "Previous", type: "button",
        data: {
          action: "click->wizard#goToPrevious",
          previous_step: "3"
        } %>

      <%= button_tag "Next", type: "button",
        data: {
          action: "click->wizard#goToNext",
          next_step: "4"
        } %>
    </div>

    <div data-wizard-target="step" class="d-none">
      <%= f.association :solar_panel, :label => "Select a solar panel:", :collection => SolarPanel.formatted, required: false %>

       <%= button_tag "Previous", type: "button",
        data: {
          action: "click->wizard#goToPrevious",
          previous_step: "4"
        } %>

      <%= button_tag "Next", type: "button",
        data: {
          action: "click->wizard#goToNext",
          next_step: "5"
        } %>
    </div>

    <div data-wizard-target="step" class="d-none">
      <%= f.input :name, :label => "Name your build!", required: false %>

            <%= button_tag "Previous", type: "button",
        data: {
          action: "click->wizard#goToPrevious",
          previous_step: "4"
        } %>
      <%= f.button :submit, class: "btn-primary" %>
    </div>
  <% end %>

</div>
