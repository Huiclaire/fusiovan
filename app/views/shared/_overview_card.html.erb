
<div class="card-overview box-relative">
  <h2 class="mb-4">Overview</h2>
  <h3 class="mb-4"><strong>Appliances</strong></h3>
  <div class="d-flex mt-3 mb-3" style="flex-wrap: wrap;">
    <% @build.appliances.each do |appliance| %>
      <% if appliance.kind == "inverter" %>
        <div class="pill-container me-1">
          <span class="pill-font">🔌 inverter</span>
        </div>
      <% elsif appliance.kind == "lights"%>
        <div class="pill-container me-1">
          <span class="pill-font">💡 lights</span>
        </div>
      <% elsif appliance.kind == "fridge"%>
        <div class="pill-container me-1">
          <span class="pill-font">❄️ fridge</span>
        </div>
      <% elsif appliance.kind == "fan"%>
        <div class="pill-container me-1">
          <span class="pill-font">💨 fan</span>
        </div>
      <% elsif appliance.kind == "pump"%>
        <div class="pill-container me-1">
          <span class="pill-font">💧 Water pump</span>
        </div>
      <% elsif appliance.kind == "charger"%>
        <div class="pill-container me-1">
          <span class="pill-font">⚡️ 12V charger</span>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="pill-grid pill-text mt-3">
    <% @build.appliances.pluck(:kind).each do |kind| %>
      <% if kind == "fridge" %>
        <p>❄️ <%= @build.fridge_use_hours %> hr, <%= @build.fridge_amp_hours %> Ah</p>
      <% elsif kind == "inverter" %>
      <p>🔌  <%= @build.inverter_use_hours %> hr, <%= @build.inverter_amp_hours %> Ah</p> %>
      <% elsif kind == "fan" %>
      <p>💨 <%= @build.fan_use_hours %> hr, <%= @build.fan_amp_hours %> Ah</p>
      <% elsif kind == "lights" %>
      <p>💡 <%= @build.lights_use_hours %> hr, <%= @build.lights_amp_hours %> Ah</p>
      <% elsif kind == "pump" %>
      <p>💧 <%= @build.pump_use_hours %> hr, <%= @build.pump_amp_hours %> Ah</p>
      <% elsif kind == "charger" %>
      <p> ⚡️ <%= @build.charger_use_hours %> hr, <%= @build.charger_amp_hours %> Ah</p>
      <% end %>
    <% end %>
  </div>

  <div class="d-flex d-flex align-items-start flex-column bd-highlight mb-3">
    <div class="mb-auto p-1 bd-highlight">
      <p class="mt-4">Total daily battery usage</p>
      <h5 class="mt-1"><%= @build.total_amp_hours %> AH</h5>
    </div>

    <div class="p-1 bd-highlight">
      <p class="mt-3"><strong>Battery</strong></p>
      <p>🔋 <%= @build.battery.make %>, <%= @build.battery.amp_hours %> ah</p>
    </div>
    <div class="p-1 bd-highlight">
      <p class="mt-3"><strong>Solar Panel</strong></p>
      <p class="mb-3">☀️ <%= @build.solar_panel.make %>, <%= @build.solar_panel.watts %> Watts</p>
    </div>

    <div class="d-flex border-top card-bottom-boxes-position w-100">
      <%# <div class="d-flex flex-column right-border ps-3" style="flex-grow: 1;width: 121%;">
        <p>Daily Build Capacity</p>
        <p class="small-text mb-3">100 ah</p>
      </div> %>
      <div class="d-flex flex-column w-100 px-4">
        <p class="mb-1">Total price</p>
        <h3 class="mt-2 mb-4">$<%= @build.set_total_price %></h3>
      </div>
    </div>
  </div>
</div>
